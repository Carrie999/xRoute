{"version":3,"sources":["webpack:///./src/modules/verify/controller.js","webpack:///./src/modules/verify/model.js"],"names":["controller","registerCtrl","getDomMap","inputEle","itemArrs","getEvents","getEventsFn","getInputEvent","e","target","value","String","length","document","querySelector","removeClass","addClass","domMap","get","then","data","go","substr","i","innerHTML","j","inputBlurEvent","inputFocusEvent","len","getViewInit","module","exports","model","init","name","pageInit","save"],"mappings":";;;;;;;AAAA;;;;AACA;;AACA;;;;;;AAGA,KAAIA,aAAa,gBAAMC,YAAN,CAAmB,aAAnB,EAAkC,mBAAlC,CAAjB;;AAEAD,YACKE,SADL,CACe;AACPC,eAAU,OADH;AAEPC,eAAU;AAFH,EADf,EAKKC,SALL,CAKe;AACP,uBAAkB,eADX;AAEP,sBAAiB,gBAFV;AAGP,uBAAkB;AAHX,EALf,EAUKC,WAVL,CAUiB;AACTC,kBADS,yBACKC,CADL,EACQ;;AAEb,aAAIC,SAASD,EAAEC,MAAf;AAAA,aACIC,QAAQC,WAAWF,OAAOC,KAD9B;;AAGA,aAAIA,MAAME,MAAN,GAAe,CAAnB,EAAsB;AAClBC,sBAASC,aAAT,CAAuB,MAAvB,KAAkC,YAAKC,WAAL,CAAiBF,SAASC,aAAT,CAAuB,MAAvB,CAAjB,EAAiD,KAAjD,CAAlC;AACA,yBAAKE,QAAL,CAAc,KAAKC,MAAL,CAAYb,QAAZ,CAAqBM,MAAME,MAA3B,CAAd,EAAkD,KAAlD;AACH,UAHD,MAGO;AACH,iBAAIF,MAAME,MAAN,KAAiB,CAArB,EAAwB;AACpB;AACA,iCAAMM,GAAN,CAAU,MAAV,EACKC,IADL,CACU,UAAUC,IAAV,EAAgB;AAClB,yBAAGA,IAAH,EAAS,gBAAOC,EAAP,CAAU,UAAV;AACZ,kBAHL;AAIA;AACA;AAEH;AACDX,mBAAME,MAAN,GAAe,CAAf,KAAqBF,QAAQD,OAAOC,KAAP,GAAeA,MAAMY,MAAN,CAAa,CAAb,EAAgB,CAAhB,CAA5C;AACA,yBAAKP,WAAL,CAAiBF,SAASC,aAAT,CAAuB,MAAvB,CAAjB,EAAiD,KAAjD;AACH;;AAED,cAAK,IAAIS,IAAI,CAAb,EAAgBA,IAAIb,MAAME,MAA1B,EAAkCW,GAAlC,EAAuC;AACnC,kBAAKN,MAAL,CAAYb,QAAZ,CAAqBmB,CAArB,EAAwBC,SAAxB,GAAoCd,MAAMa,CAAN,CAApC;AACH;;AAED,cAAK,IAAIE,IAAIf,MAAME,MAAnB,EAA2Ba,IAAI,CAA/B,EAAkCA,GAAlC,EAAuC;AACnC,kBAAKR,MAAL,CAAYb,QAAZ,CAAqBqB,CAArB,EAAwBD,SAAxB,GAAoC,EAApC;AACH;AAEJ,MAhCQ;AAiCTE,mBAjCS,4BAiCQ;AACbb,kBAASC,aAAT,CAAuB,MAAvB,KAAkC,YAAKC,WAAL,CAAiBF,SAASC,aAAT,CAAuB,MAAvB,CAAjB,EAAiD,KAAjD,CAAlC;AACH,MAnCQ;AAoCTa,oBApCS,2BAoCOnB,CApCP,EAoCU;AACf,aAAIE,QAAQC,WAAWH,EAAEC,MAAF,CAASC,KAAhC;AAAA,aACIkB,MAAMlB,MAAME,MADhB;AAEAgB,eAAM,CAAN,IAAY,YAAKZ,QAAL,CAAc,KAAKC,MAAL,CAAYb,QAAZ,CAAqBwB,GAArB,CAAd,EAAyC,KAAzC,CAAZ;AACH;AAxCQ,EAVjB,EAoDKC,WApDL,CAoDiB,YAAY,CAExB,CAtDL;;AAyDAC,QAAOC,OAAP,GAAiB/B,UAAjB,C;;;;;;;;;;;;;AChEA;;AAEA,KAAIgC,QAAQ,kBAAWC,IAAX,EAAZ;;AAEAD,OAAME,IAAN,GAAa,QAAb;;AAEAF,OAAMG,QAAN,GAAiB,YAAW,CAE3B,CAFD;;AAIAH,OAAMI,IAAN;;mBAEeJ,K","file":"js/register/verify.js","sourcesContent":["import model from './model';\nimport {dialog, util} from 'jsLib/index';\nimport Router from 'src/route';\n\n\nlet controller = model.registerCtrl('verify-ctrl', '.public-container');\n\ncontroller\n    .getDomMap({\n        inputEle: 'input',\n        itemArrs: '.arr-item'\n    })\n    .getEvents({\n        'inputEle input': 'getInputEvent',\n        'inputEle blur': 'inputBlurEvent',\n        'inputEle focus': 'inputFocusEvent'\n    })\n    .getEventsFn({\n        getInputEvent(e) {\n            \n            let target = e.target,\n                value = String() + target.value;\n\n            if (value.length < 4) {\n                document.querySelector('.red') && util.removeClass(document.querySelector('.red'), 'red');\n                util.addClass(this.domMap.itemArrs[value.length], 'red');\n            } else {\n                if (value.length === 4) {\n                    //验证码验证\n                    model.get('/api')\n                        .then(function (data) {\n                            if(data) Router.go('password')\n                        });\n                    //出现弹层,给以用户以提示    \n                    //dd.dialog.alert('well done');\n\n                }\n                value.length > 4 && (value = target.value = value.substr(0, 4));\n                util.removeClass(document.querySelector('.red'), 'red');\n            }\n\n            for (let i = 0; i < value.length; i++) {\n                this.domMap.itemArrs[i].innerHTML = value[i];\n            }\n\n            for (let j = value.length; j < 4; j++) {\n                this.domMap.itemArrs[j].innerHTML = '';\n            }\n\n        },\n        inputBlurEvent() {\n            document.querySelector('.red') && util.removeClass(document.querySelector('.red'), 'red');\n        },\n        inputFocusEvent(e) {\n            let value = String() + e.target.value,\n                len = value.length;\n            len < 4 && (util.addClass(this.domMap.itemArrs[len], 'red'));\n        }\n    })\n    .getViewInit(function () {\n\n    })\n\n\nmodule.exports = controller;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/modules/verify/controller.js\n **/","import {totalModel} from 'jsLib/index';\n\nlet model = totalModel.init();\n\nmodel.name = 'verify';\n\nmodel.pageInit = function() {\n\n};\n\nmodel.save();\n\nexport default model;\n\n\n/** WEBPACK FOOTER **\n ** ./src/modules/verify/model.js\n **/"],"sourceRoot":""}